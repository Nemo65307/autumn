<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div *ngIf="serverValidation" class="alert alert-danger"
         role="alert">
        <p *ngFor="let message of serverValidation">
            {{message}}
        </p>
    </div>
    <div>
        <h1 *ngIf="id" class="h3 mb-3 font-weight-normal text">
            Edit user
        </h1>
        <h1 *ngIf="!id" class="h3 mb-3 font-weight-normal text">
            Add user
        </h1>
        <div class="form-group row">
            <label for="inputLogin"
                   class="col-sm-2 col-form-label">Login</label>
            <div class="col-sm-10">
                <input formControlName="login" type="text"
                       [ngClass]="showError('login') && !id ? 'form-control is-invalid' : 'form-control is-valid'"
                       id="inputLogin"
                       placeholder="Login"/>
                <div *ngIf="showError('login') && !id"
                     class="invalid-feedback">Login is invalid
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputPassword"
                   class="col-sm-2 col-form-label">Password</label>
            <div class="col-sm-10">
                <input formControlName="password" type="password"
                       [ngClass]="showError('password') ? 'form-control is-invalid' : 'form-control is-valid'"
                       id="inputPassword"
                       placeholder="Password"/>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputPasswordAgain"
                   class="col-sm-2 col-form-label">Password
                again</label>
            <div class="col-sm-10">
                <input formControlName="passwordAgain" type="password"
                       [ngClass]="showError('passwordAgain') ? 'form-control is-invalid' : 'form-control is-valid'"
                       id="inputPasswordAgain"
                       placeholder="Password again"/>
                <div *ngIf="showError('passwordAgain')"
                     class="invalid-feedback">Passwords don't match
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputEmail"
                   class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
                <input formControlName="email" type="email"
                       [ngClass]="showError('email') ? 'form-control is-invalid' : 'form-control is-valid'"
                       id="inputEmail"
                       placeholder="Email"/>
                <div *ngIf="showError('email')"
                     class="invalid-feedback">Email is invalid
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputFirstName"
                   class="col-sm-2 col-form-label">First
                Name</label>
            <div class="col-sm-10">
                <input formControlName="firstName" type="text"
                       [ngClass]="showError('firstName') ? 'form-control is-invalid' : 'form-control is-valid'"
                       id="inputFirstName"
                       placeholder="First Name"/>
                <div *ngIf="showError('firstName')"
                     class="invalid-feedback">Only english alphabet
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputLastName"
                   class="col-sm-2 col-form-label">Last
                Name</label>
            <div class="col-sm-10">
                <input formControlName="lastName" type="text"
                       [ngClass]="showError('lastName') ? 'form-control is-invalid' : 'form-control is-valid'"
                       id="inputLastName"
                       placeholder="Last Name"/>
                <div
                    *ngIf="showError('lastName')"
                    class="invalid-feedback">Only english alphabet
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputBirthday"
                   class="col-sm-2 col-form-label">Birthday</label>
            <div class="col-sm-10">
                <input type="text" id="inputBirthday"
                       formControlName="birthday"
                       placeholder="yyyy-mm-dd"
                       [ngClass]="showError('birthday') ? 'form-control is-invalid' : 'form-control is-valid'"/>
                <div
                    *ngIf="showError('birthday')"
                    class="invalid-feedback">Invalid date format
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="inputRole"
                   class="col-sm-2 col-form-label">Role</label>
            <div class="col-sm-10">
                <select id="inputRole"
                        class="custom-select my-1 mr-sm-2"
                        [formControlName]="'role'" [compareWith]="compareRoles">
                    <option *ngFor="let role of roles" [ngValue]="role">
                        {{role.name}}
                    </option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <button class="btn btn-primary"
                        type="submit" [disabled]="!userForm.valid">Submit
                </button>
                <button class="btn btn-danger"
                        (click)="redirectUserPage()">Cancel
                </button>
            </div>
        </div>
    </div>
</form>
